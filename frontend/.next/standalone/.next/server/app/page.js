(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var a=r(482),s=r(9108),n=r(2563),i=r.n(n),l=r(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1136)),"/root/Projects/gmail-clone/frontend/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3625)),"/root/Projects/gmail-clone/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],u=["/root/Projects/gmail-clone/frontend/src/app/page.tsx"],d="/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7196:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},4090:(e,t,r)=>{Promise.resolve().then(r.bind(r,6402))},6641:(e,t,r)=>{Promise.resolve().then(r.bind(r,1858))},6402:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ts});var a=r(5344),s=r(3729),n=r(6274),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:u,...d},h)=>(0,s.createElement)("svg",{ref:h,...i,width:a,height:a,stroke:r,strokeWidth:o?24*Number(n)/Number(a):n,className:["lucide",`lucide-${l(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r},c=o("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),u=o("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),d=o("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),h=o("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),m=o("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),g=o("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);function y({onMenuClick:e,onSearch:t,searchQuery:r}){let[n,i]=(0,s.useState)(!1);return(0,a.jsxs)("header",{className:"h-16 flex items-center px-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:e,className:"p-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(c,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("div",{className:"flex items-center ml-4",children:a.jsx("img",{src:"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x_r5.png",alt:"Gmail",className:"h-8"})}),a.jsx("div",{className:"flex-1 max-w-2xl mx-8",children:(0,a.jsxs)("div",{className:"relative flex items-center",children:[a.jsx(u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gmail-gray"}),a.jsx("input",{type:"text",placeholder:n?"AI semantic search...":"Search mail",value:r,onChange:e=>t(e.target.value,n),onKeyDown:e=>{"Enter"===e.key&&t(r,n)},className:"w-full pl-12 pr-14 py-3 bg-gmail-lightGray dark:bg-gray-800 rounded-full focus:outline-none focus:bg-white focus:shadow-md dark:focus:bg-gray-700 transition-all"}),a.jsx("button",{onClick:()=>i(!n),className:`absolute right-3 p-1.5 rounded-full transition-colors ${n?"bg-gmail-blue text-white":"hover:bg-gray-200 dark:hover:bg-gray-700 text-gmail-gray"}`,title:n?"AI Search enabled":"Enable AI Search",children:a.jsx(d,{className:"w-4 h-4"})})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"p-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(h,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(m,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(g,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-gmail-blue text-white flex items-center justify-center ml-2",children:"U"})]})]})}var p=r(8441),f=r(1466),x=r(4902),b=r(57),v=r(7361),w=r(8651),k=r(3839),j=class extends b.l{constructor(e,t){super(),this.#e=void 0,this.#t=void 0,this.#r=void 0,this.#a=new Set,this.options=t,this.#s=e,this.#n=null,this.#i=(0,v.O)(),this.bindMethods(),this.setOptions(t)}#s;#e;#t;#r;#l;#o;#i;#n;#c;#u;#d;#h;#m;#g;#a;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#e.addObserver(this),N(this.#e,this.options)?this.#y():this.updateResult(),this.#p())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return M(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return M(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#f(),this.#x(),this.#e.removeObserver(this)}setOptions(e){let t=this.options,r=this.#e;if(this.options=this.#s.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,w.Nc)(this.options.enabled,this.#e))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#e.setOptions(this.options),t._defaulted&&!(0,w.VS)(this.options,t)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let a=this.hasListeners();a&&S(this.#e,r,this.options,t)&&this.#y(),this.updateResult(),a&&(this.#e!==r||(0,w.Nc)(this.options.enabled,this.#e)!==(0,w.Nc)(t.enabled,this.#e)||(0,w.KC)(this.options.staleTime,this.#e)!==(0,w.KC)(t.staleTime,this.#e))&&this.#v();let s=this.#w();a&&(this.#e!==r||(0,w.Nc)(this.options.enabled,this.#e)!==(0,w.Nc)(t.enabled,this.#e)||s!==this.#g)&&this.#k(s)}getOptimisticResult(e){let t=this.#s.getQueryCache().build(this.#s,e),r=this.createResult(t,e);return(0,w.VS)(this.getCurrentResult(),r)||(this.#r=r,this.#o=this.options,this.#l=this.#e.state),r}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"!==r||(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#i.status||this.#i.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#a.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#s.defaultQueryOptions(e),r=this.#s.getQueryCache().build(this.#s,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#y({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#y(e){this.#b();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(w.ZT)),t}#v(){this.#f();let e=(0,w.KC)(this.options.staleTime,this.#e);if(w.sk||this.#r.isStale||!(0,w.PN)(e))return;let t=(0,w.Kp)(this.#r.dataUpdatedAt,e);this.#h=k.mr.setTimeout(()=>{this.#r.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#k(e){this.#x(),this.#g=e,!w.sk&&!1!==(0,w.Nc)(this.options.enabled,this.#e)&&(0,w.PN)(this.#g)&&0!==this.#g&&(this.#m=k.mr.setInterval(()=>{(this.options.refetchIntervalInBackground||p.j.isFocused())&&this.#y()},this.#g))}#p(){this.#v(),this.#k(this.#w())}#f(){this.#h&&(k.mr.clearTimeout(this.#h),this.#h=void 0)}#x(){this.#m&&(k.mr.clearInterval(this.#m),this.#m=void 0)}createResult(e,t){let r;let a=this.#e,s=this.options,n=this.#r,i=this.#l,l=this.#o,o=e!==a?e.state:this.#t,{state:c}=e,u={...c},d=!1;if(t._optimisticResults){let r=this.hasListeners(),n=!r&&N(e,t),i=r&&S(e,a,t,s);(n||i)&&(u={...u,...(0,x.z)(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:g}=u;r=u.data;let y=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===g){let e;n?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(e=n.data,y=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,void 0!==e&&(g="success",r=(0,w.oE)(n?.data,e,t),d=!0)}if(t.select&&void 0!==r&&!y){if(n&&r===i?.data&&t.select===this.#c)r=this.#u;else try{this.#c=t.select,r=t.select(r),r=(0,w.oE)(n?.data,r,t),this.#u=r,this.#n=null}catch(e){this.#n=e}}this.#n&&(h=this.#n,r=this.#u,m=Date.now(),g="error");let p="fetching"===u.fetchStatus,f="pending"===g,b="error"===g,k=f&&p,j=void 0!==r,M={status:g,fetchStatus:u.fetchStatus,isPending:f,isSuccess:"success"===g,isError:b,isInitialLoading:k,isLoading:k,data:r,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:p,isRefetching:p&&!f,isLoadingError:b&&!j,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:b&&j,isStale:C(e,t),refetch:this.refetch,promise:this.#i,isEnabled:!1!==(0,w.Nc)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==M.data,r="error"===M.status&&!t,s=e=>{r?e.reject(M.error):t&&e.resolve(M.data)},n=()=>{s(this.#i=M.promise=(0,v.O)())},i=this.#i;switch(i.status){case"pending":e.queryHash===a.queryHash&&s(i);break;case"fulfilled":(r||M.data!==i.value)&&n();break;case"rejected":r&&M.error===i.reason||n()}}return M}updateResult(){let e=this.#r,t=this.createResult(this.#e,this.options);this.#l=this.#e.state,this.#o=this.options,void 0!==this.#l.data&&(this.#d=this.#e),(0,w.VS)(t,e)||(this.#r=t,this.#j({listeners:(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#a.size)return!0;let a=new Set(r??this.#a);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(t=>this.#r[t]!==e[t]&&a.has(t))})()}))}#b(){let e=this.#s.getQueryCache().build(this.#s,this.options);if(e===this.#e)return;let t=this.#e;this.#e=e,this.#t=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#p()}#j(e){f.Vr.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#s.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function N(e,t){return!1!==(0,w.Nc)(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)||void 0!==e.state.data&&M(e,t,t.refetchOnMount)}function M(e,t,r){if(!1!==(0,w.Nc)(t.enabled,e)&&"static"!==(0,w.KC)(t.staleTime,e)){let a="function"==typeof r?r(e):r;return"always"===a||!1!==a&&C(e,t)}return!1}function S(e,t,r,a){return(e!==t||!1===(0,w.Nc)(a.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&C(e,r)}function C(e,t){return!1!==(0,w.Nc)(t.enabled,e)&&e.isStaleByTime((0,w.KC)(t.staleTime,e))}var P=s.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),R=()=>s.useContext(P),T=(e,t,r)=>{let a=r?.state.error&&"function"==typeof e.throwOnError?(0,w.L3)(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&!t.isReset()&&(e.retryOnMount=!1)},E=e=>{s.useEffect(()=>{e.clearReset()},[e])},O=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(s&&void 0===e.data||(0,w.L3)(r,[e.error,a])),D=s.createContext(!1),q=()=>s.useContext(D);D.Provider;var Q=e=>{if(e.suspense){let t=e=>"static"===e?e:Math.max(e??1e3,1e3),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>t(r(...e)):t(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}},L=(e,t)=>e.isLoading&&e.isFetching&&!t,I=(e,t)=>e?.suspense&&t.isPending,F=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function A(e,t){return function(e,t,r){let a=q(),i=R(),l=(0,n.NL)(r),o=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(o);let c=l.getQueryCache().get(o.queryHash);o._optimisticResults=a?"isRestoring":"optimistic",Q(o),T(o,i,c),E(i);let u=!l.getQueryCache().get(o.queryHash),[d]=s.useState(()=>new t(l,o)),h=d.getOptimisticResult(o),m=!a&&!1!==e.subscribed;if(s.useSyncExternalStore(s.useCallback(e=>{let t=m?d.subscribe(f.Vr.batchCalls(e)):w.ZT;return d.updateResult(),t},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),s.useEffect(()=>{d.setOptions(o)},[o,d]),I(o,h))throw F(o,d,i);if(O({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:c,suspense:o.suspense}))throw h.error;if(l.getDefaultOptions().queries?._experimental_afterQuery?.(o,h),o.experimental_prefetchInRender&&!w.sk&&L(h,a)){let e=u?F(o,d,i):c?.promise;e?.catch(w.ZT).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?h:d.trackResult(h)}(e,j,t)}/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=o("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),W=o("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),H=o("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),z=o("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Y=o("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),K=o("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),G=o("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),$=o("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),U=o("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),X=o("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),B=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8080/api";async function V(e,t){let r=await fetch(`${B}${e}`,{...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!r.ok)throw Error(await r.text()||`API error: ${r.status}`);return r.json()}let J={getEmails:(e={})=>{let t=new URLSearchParams;e.page&&t.set("page",String(e.page)),e.limit&&t.set("limit",String(e.limit)),e.label&&t.set("label",e.label),void 0!==e.is_read&&t.set("is_read",String(e.is_read)),void 0!==e.is_starred&&t.set("is_starred",String(e.is_starred)),e.search&&t.set("search",e.search);let r=t.toString();return V(`/emails${r?`?${r}`:""}`)},getEmail:e=>V(`/emails/${e}`),sendEmail:e=>V("/emails",{method:"POST",body:JSON.stringify(e)}),updateEmail:(e,t)=>V(`/emails/${e}`,{method:"PATCH",body:JSON.stringify(t)}),deleteEmail:e=>fetch(`${B}/emails/${e}`,{method:"DELETE"}),getThread:e=>V(`/threads/${e}`),getLabels:()=>V("/labels"),createLabel:(e,t)=>V("/labels",{method:"POST",body:JSON.stringify({name:e,color:t})}),deleteLabel:e=>fetch(`${B}/labels/${encodeURIComponent(e)}`,{method:"DELETE"}),summarize:e=>V("/ai/summarize",{method:"POST",body:JSON.stringify(e)}),smartCompose:e=>V("/ai/compose",{method:"POST",body:JSON.stringify(e)}),semanticSearch:e=>V("/ai/search",{method:"POST",body:JSON.stringify(e)}),categorize:e=>V("/ai/categorize",{method:"POST",body:JSON.stringify({email_id:e})}),indexEmails:()=>V("/ai/index",{method:"POST"}),indexEmail:e=>fetch(`${B}/ai/index/${e}`,{method:"POST"})},Z=function(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a)}return s}(e))&&(a&&(a+=" "),a+=t);return a},ee=[{name:"INBOX",icon:_,color:null},{name:"STARRED",icon:W,color:"#fbbc04"},{name:"SENT",icon:H,color:null},{name:"DRAFTS",icon:z,color:null},{name:"SPAM",icon:Y,color:null},{name:"TRASH",icon:K,color:null}];function et({isOpen:e,currentLabel:t,onLabelChange:r,onCompose:s,onManageLabels:n}){let{data:i}=A({queryKey:["labels"],queryFn:J.getLabels}),l=i?.filter(e=>!ee.some(t=>t.name===e.name))||[];return e?(0,a.jsxs)("aside",{className:"w-64 flex-shrink-0 overflow-y-auto pt-4",children:[(0,a.jsxs)("button",{onClick:s,className:"compose-btn ml-4 mb-4 flex items-center gap-3 px-6 py-4 rounded-2xl bg-white dark:bg-gray-800 hover:bg-gmail-lightGray dark:hover:bg-gray-700",children:[a.jsx(G,{className:"w-6 h-6 text-gmail-gray"}),a.jsx("span",{className:"text-sm font-medium text-gmail-gray",children:"Compose"})]}),(0,a.jsxs)("nav",{children:[ee.map(({name:e,icon:s,color:n})=>(0,a.jsxs)("button",{onClick:()=>r(e),className:Z("w-full flex items-center gap-4 px-6 py-2 rounded-r-full transition-colors",t===e?"bg-gmail-selected text-gmail-blue font-semibold":"hover:bg-gmail-hover text-gmail-gray"),children:[a.jsx(s,{className:"w-5 h-5",style:n?{color:n}:void 0,fill:"STARRED"===e&&t===e?n??void 0:"none"}),a.jsx("span",{className:"flex-1 text-left text-sm",children:e}),i?.find(t=>t.name===e)?.email_count?a.jsx("span",{className:"text-xs",children:i.find(t=>t.name===e)?.email_count}):null]},e)),l.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-6 py-2 mt-4",children:[a.jsx($,{className:"w-4 h-4 text-gmail-gray"}),a.jsx("span",{className:"text-xs font-medium text-gmail-gray",children:"Labels"})]}),l.map(e=>(0,a.jsxs)("button",{onClick:()=>r(e.name),className:Z("w-full flex items-center gap-4 px-6 py-2 rounded-r-full transition-colors",t===e.name?"bg-gmail-selected text-gmail-blue font-semibold":"hover:bg-gmail-hover text-gmail-gray"),children:[a.jsx(U,{className:"w-5 h-5",style:e.color?{color:e.color}:void 0}),a.jsx("span",{className:"flex-1 text-left text-sm",children:e.name}),e.email_count>0&&a.jsx("span",{className:"text-xs",children:e.email_count})]},e.name))]}),(0,a.jsxs)("button",{onClick:n,className:"w-full flex items-center gap-4 px-6 py-2 mt-2 hover:bg-gmail-hover text-gmail-gray rounded-r-full",children:[a.jsx(X,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:"Manage labels"})]})]})]}):null}/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let er=o("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ea=o("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),es=o("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),en=o("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var ei=r(9896),el=class extends b.l{#s;#r;#N;#M;constructor(e,t){super(),this.#r=void 0,this.#s=e,this.setOptions(t),this.bindMethods(),this.#S()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#s.defaultMutationOptions(e),(0,w.VS)(this.options,t)||this.#s.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#N,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,w.Ym)(t.mutationKey)!==(0,w.Ym)(this.options.mutationKey)?this.reset():this.#N?.state.status==="pending"&&this.#N.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#N?.removeObserver(this)}onMutationUpdate(e){this.#S(),this.#j(e)}getCurrentResult(){return this.#r}reset(){this.#N?.removeObserver(this),this.#N=void 0,this.#S(),this.#j()}mutate(e,t){return this.#M=t,this.#N?.removeObserver(this),this.#N=this.#s.getMutationCache().build(this.#s,this.options),this.#N.addObserver(this),this.#N.execute(e)}#S(){let e=this.#N?.state??(0,ei.R)();this.#r={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#j(e){f.Vr.batch(()=>{if(this.#M&&this.hasListeners()){let t=this.#r.variables,r=this.#r.context,a={client:this.#s,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#M.onSuccess?.(e.data,t,r,a)}catch(e){Promise.reject(e)}try{this.#M.onSettled?.(e.data,null,t,r,a)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#M.onError?.(e.error,t,r,a)}catch(e){Promise.reject(e)}try{this.#M.onSettled?.(void 0,e.error,t,r,a)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#r)})})}};function eo(e,t){let r=(0,n.NL)(t),[a]=s.useState(()=>new el(r,e));s.useEffect(()=>{a.setOptions(e)},[a,e]);let i=s.useSyncExternalStore(s.useCallback(e=>a.subscribe(f.Vr.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=s.useCallback((e,t)=>{a.mutate(e,t).catch(w.ZT)},[a]);if(i.error&&(0,w.L3)(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ec=o("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);function eu(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ed(e){return eu(e,Date.now())}function eh(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}function em(e){let t=eh(e);return t.setHours(0,0,0,0),t}let eg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ey(e){return (t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}let ep={date:ey({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ey({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ey({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ef={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ex(e){return(t,r)=>{let a;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,s=r?.width?String(r.width):t;a=e.formattingValues[s]||e.formattingValues[t]}else{let t=e.defaultWidth,s=r?.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function eb(e){return(t,r={})=>{let a;let s=r.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;let l=i[0],o=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}(o,e=>e.test(l)):function(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}(o,e=>e.test(l));return a=e.valueCallback?e.valueCallback(c):c,{value:a=r.valueCallback?r.valueCallback(a):a,rest:t.slice(l.length)}}}let ev={code:"en-US",formatDistance:(e,t,r)=>{let a;let s=eg[e];return(a="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),r?.addSuffix)?r.comparison&&r.comparison>0?"in "+a:a+" ago":a},formatLong:ep,formatRelative:(e,t,r,a)=>ef[e],localize:{ordinalNumber:(e,t)=>{let r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:ex({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ex({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ex({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ex({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ex({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return(t,r={})=>{let a=t.match(e.matchPattern);if(!a)return null;let s=a[0],n=t.match(e.parsePattern);if(!n)return null;let i=e.valueCallback?e.valueCallback(n[0]):n[0];return{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(s.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:eb({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:eb({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:eb({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:eb({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:eb({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},ew={};function ek(e){let t=eh(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ej(e,t){let r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??ew.weekStartsOn??ew.locale?.options?.weekStartsOn??0,a=eh(e),s=a.getDay();return a.setDate(a.getDate()-((s<r?7:0)+s-r)),a.setHours(0,0,0,0),a}function eN(e){return ej(e,{weekStartsOn:1})}function eM(e){let t=eh(e),r=t.getFullYear(),a=eu(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);let s=eN(a),n=eu(e,0);n.setFullYear(r,0,4),n.setHours(0,0,0,0);let i=eN(n);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function eS(e,t){let r=eh(e),a=r.getFullYear(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??ew.firstWeekContainsDate??ew.locale?.options?.firstWeekContainsDate??1,n=eu(e,0);n.setFullYear(a+1,0,s),n.setHours(0,0,0,0);let i=ej(n,t),l=eu(e,0);l.setFullYear(a,0,s),l.setHours(0,0,0,0);let o=ej(l,t);return r.getTime()>=i.getTime()?a+1:r.getTime()>=o.getTime()?a:a-1}function eC(e,t){let r=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+r}let eP={y(e,t){let r=e.getFullYear(),a=r>0?r:1-r;return eC("yy"===t?a%100:a,t.length)},M(e,t){let r=e.getMonth();return"M"===t?String(r+1):eC(r+1,2)},d:(e,t)=>eC(e.getDate(),t.length),a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>eC(e.getHours()%12||12,t.length),H:(e,t)=>eC(e.getHours(),t.length),m:(e,t)=>eC(e.getMinutes(),t.length),s:(e,t)=>eC(e.getSeconds(),t.length),S(e,t){let r=t.length;return eC(Math.trunc(e.getMilliseconds()*Math.pow(10,r-3)),t.length)}},eR={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eT={G:function(e,t,r){let a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if("yo"===t){let t=e.getFullYear();return r.ordinalNumber(t>0?t:1-t,{unit:"year"})}return eP.y(e,t)},Y:function(e,t,r,a){let s=eS(e,a),n=s>0?s:1-s;return"YY"===t?eC(n%100,2):"Yo"===t?r.ordinalNumber(n,{unit:"year"}):eC(n,t.length)},R:function(e,t){return eC(eM(e),t.length)},u:function(e,t){return eC(e.getFullYear(),t.length)},Q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return eC(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return eC(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){let a=e.getMonth();switch(t){case"M":case"MM":return eP.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return eC(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){let s=function(e,t){let r=eh(e);return Math.round((+ej(r,t)-+function(e,t){let r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??ew.firstWeekContainsDate??ew.locale?.options?.firstWeekContainsDate??1,a=eS(e,t),s=eu(e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),ej(s,t)}(r,t))/6048e5)+1}(e,a);return"wo"===t?r.ordinalNumber(s,{unit:"week"}):eC(s,t.length)},I:function(e,t,r){let a=function(e){let t=eh(e);return Math.round((+eN(t)-+function(e){let t=eM(e),r=eu(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),eN(r)}(t))/6048e5)+1}(e);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):eC(a,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):eP.d(e,t)},D:function(e,t,r){let a=function(e){let t=eh(e);return function(e,t){let r=em(e),a=em(t);return Math.round((+r-ek(r)-(+a-ek(a)))/864e5)}(t,function(e){let t=eh(e),r=eu(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}(t))+1}(e);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):eC(a,t.length)},E:function(e,t,r){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){let s=e.getDay(),n=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(n);case"ee":return eC(n,2);case"eo":return r.ordinalNumber(n,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){let s=e.getDay(),n=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(n);case"cc":return eC(n,t.length);case"co":return r.ordinalNumber(n,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){let a=e.getDay(),s=0===a?7:a;switch(t){case"i":return String(s);case"ii":return eC(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){let a;let s=e.getHours();switch(a=12===s?eR.noon:0===s?eR.midnight:s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){let a;let s=e.getHours();switch(a=s>=17?eR.evening:s>=12?eR.afternoon:s>=4?eR.morning:eR.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return eP.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):eP.H(e,t)},K:function(e,t,r){let a=e.getHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):eC(a,t.length)},k:function(e,t,r){let a=e.getHours();return(0===a&&(a=24),"ko"===t)?r.ordinalNumber(a,{unit:"hour"}):eC(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):eP.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):eP.s(e,t)},S:function(e,t){return eP.S(e,t)},X:function(e,t,r){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return eO(a);case"XXXX":case"XX":return eD(a);default:return eD(a,":")}},x:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"x":return eO(a);case"xxxx":case"xx":return eD(a);default:return eD(a,":")}},O:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eE(a,":");default:return"GMT"+eD(a,":")}},z:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eE(a,":");default:return"GMT"+eD(a,":")}},t:function(e,t,r){return eC(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,r){return eC(e.getTime(),t.length)}};function eE(e,t=""){let r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),n=a%60;return 0===n?r+String(s):r+String(s)+t+eC(n,2)}function eO(e,t){return e%60==0?(e>0?"-":"+")+eC(Math.abs(e)/60,2):eD(e,t)}function eD(e,t=""){let r=Math.abs(e);return(e>0?"-":"+")+eC(Math.trunc(r/60),2)+t+eC(r%60,2)}let eq=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},eQ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},eL={p:eQ,P:(e,t)=>{let r;let a=e.match(/(P+)(p+)?/)||[],s=a[1],n=a[2];if(!n)return eq(e,t);switch(s){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",eq(s,t)).replace("{{time}}",eQ(n,t))}},eI=/^D+$/,eF=/^Y+$/,eA=["D","DD","YY","YYYY"],e_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eH=/^'([^]*?)'?$/,ez=/''/g,eY=/[a-zA-Z]/;function eK(e,t,r){let a=r?.locale??ew.locale??ev,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??ew.firstWeekContainsDate??ew.locale?.options?.firstWeekContainsDate??1,n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??ew.weekStartsOn??ew.locale?.options?.weekStartsOn??0,i=eh(e);if(!((i instanceof Date||"object"==typeof i&&"[object Date]"===Object.prototype.toString.call(i)||"number"==typeof i)&&!isNaN(Number(eh(i)))))throw RangeError("Invalid time value");let l=t.match(eW).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,eL[t])(e,a.formatLong):e}).join("").match(e_).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(eH);return t?t[1].replace(ez,"'"):e}(e)};if(eT[t])return{isToken:!0,value:e};if(t.match(eY))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(l=a.localize.preprocessor(i,l));let o={firstWeekContainsDate:s,weekStartsOn:n,locale:a};return l.map(s=>{if(!s.isToken)return s.value;let n=s.value;return(!r?.useAdditionalWeekYearTokens&&eF.test(n)||!r?.useAdditionalDayOfYearTokens&&eI.test(n))&&function(e,t,r){let a=function(e,t,r){let a="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(a),eA.includes(e))throw RangeError(a)}(n,t,String(e)),(0,eT[n[0]])(i,n,a.localize,o)}).join("")}function eG({email:e,isSelected:t,onClick:r}){let s=(0,n.NL)(),i=eo({mutationFn:({id:e,data:t})=>J.updateEmail(e,t),onSuccess:()=>{s.invalidateQueries({queryKey:["emails"]})}});return(0,a.jsxs)("div",{onClick:r,className:Z("email-item flex items-center gap-2 px-4 py-2 cursor-pointer border-b border-gray-100 dark:border-gray-800",t?"bg-gmail-selected":"hover:bg-gmail-hover",!e.is_read&&"bg-white dark:bg-gray-900 font-semibold"),children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded flex-shrink-0",onClick:e=>e.stopPropagation()}),a.jsx("button",{onClick:t=>{t.stopPropagation(),i.mutate({id:e.id,data:{is_starred:!e.is_starred}})},className:"p-1 flex-shrink-0",children:a.jsx(W,{className:Z("w-5 h-5",e.is_starred?"text-yellow-400 fill-yellow-400":"text-gmail-gray")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 flex items-center gap-4",children:[a.jsx("div",{className:"w-48 flex-shrink-0 truncate",children:e.from.name||e.from.email}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 flex items-baseline gap-1",children:[a.jsx("span",{className:"truncate",children:e.subject}),(0,a.jsxs)("span",{className:"text-gmail-gray font-normal truncate",children:[" ","- ",e.snippet]})]}),a.jsx("div",{className:"text-xs text-gmail-gray flex-shrink-0 w-16 text-right",children:(e=>{var t;let r=new Date(e);return(t=ed(r),+em(r)==+em(t))?eK(r,"h:mm a"):!function(e,t){let r=eh(e),a=eh(t);return r.getFullYear()===a.getFullYear()}(r,ed(r))?eK(r,"MM/dd/yy"):eK(r,"MMM d")})(e.date)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100",children:[a.jsx("button",{className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(ec,{className:"w-4 h-4 text-gmail-gray"})}),a.jsx("button",{className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(K,{className:"w-4 h-4 text-gmail-gray"})})]})]})}function e$({label:e,searchQuery:t,useAISearch:r,selectedId:n,onSelect:i,onEmailIdsChange:l}){let{data:o,isLoading:c,refetch:u,isFetching:d}=A({queryKey:["emails",e,t,r],queryFn:async()=>{if(r&&t){let e=await J.semanticSearch({query:t,limit:50});return{emails:(await Promise.all(e.results.map(async e=>{try{return await J.getEmail(e.email_id)}catch{return null}}))).filter(e=>null!==e),total:e.results.length,page:1,limit:50}}return J.getEmails({label:e,search:t})}});return(0,s.useEffect)(()=>{o?.emails&&l&&l(o.emails.map(e=>e.id))},[o?.emails,l]),(0,a.jsxs)("div",{className:"flex-1 flex flex-col border-r border-gray-200 dark:border-gray-700 min-w-[400px]",children:[(0,a.jsxs)("div",{className:"h-12 flex items-center justify-between px-4 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded"}),a.jsx("button",{onClick:()=>u(),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(er,{className:`w-4 h-4 text-gmail-gray ${d?"animate-spin":""}`})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(ea,{className:"w-4 h-4 text-gmail-gray"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gmail-gray",children:[(0,a.jsxs)("span",{children:[o?.emails.length?`1-${o.emails.length}`:"0"," of ",o?.total||0]}),a.jsx("button",{className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(es,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(en,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:c?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(er,{className:"w-6 h-6 text-gmail-gray animate-spin"})}):o?.emails.length===0?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gmail-gray",children:[a.jsx("p",{className:"text-lg",children:"No emails found"}),a.jsx("p",{className:"text-sm mt-2",children:t?"Try a different search":"Your inbox is empty"})]}):o?.emails.map(e=>a.jsx(eG,{email:e,isSelected:n===e.id,onClick:()=>i(e.id)},e.id))})]})}/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eU=o("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eX=o("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),eB=o("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),eV=o("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),eJ=o("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),eZ=o("ReplyAll",[["polyline",{points:"7 17 2 12 7 7",key:"t83bqg"}],["polyline",{points:"12 17 7 12 12 7",key:"1g4ajm"}],["path",{d:"M22 18v-2a4 4 0 0 0-4-4H7",key:"1fcyog"}]]),e0=o("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);function e1({emailId:e,onClose:t}){let r=(0,n.NL)(),{data:s,isLoading:i}=A({queryKey:["email",e],queryFn:()=>J.getEmail(e)}),{data:l,refetch:o,isFetching:c}=A({queryKey:["summary",e],queryFn:()=>J.summarize({email_id:e}),enabled:!1}),u=eo({mutationFn:t=>J.updateEmail(e,t),onSuccess:()=>{r.invalidateQueries({queryKey:["emails"]}),r.invalidateQueries({queryKey:["email",e]})}});return i||!s?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gmail-blue"})}):(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"h-12 flex items-center justify-between px-4 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(eU,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(ec,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(K,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(eX,{className:"w-5 h-5 text-gmail-gray"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(eB,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:a.jsx(eV,{className:"w-5 h-5 text-gmail-gray"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl text-gray-900 dark:text-gray-100",children:s.subject}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>o(),disabled:c,className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gmail-lightGray hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-sm",children:[a.jsx(d,{className:`w-4 h-4 ${c?"animate-pulse":""}`}),"AI Summary"]}),a.jsx("button",{onClick:()=>u.mutate({is_starred:!s.is_starred}),children:a.jsx(W,{className:`w-5 h-5 ${s.is_starred?"text-yellow-400 fill-yellow-400":"text-gmail-gray"}`})})]})]}),l&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(d,{className:"w-4 h-4 text-gmail-blue"}),a.jsx("span",{className:"text-sm font-medium text-gmail-blue",children:"AI Summary"})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.summary})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gmail-blue text-white flex items-center justify-center flex-shrink-0",children:(s.from.name||s.from.email)[0].toUpperCase()}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:s.from.name||s.from.email}),(0,a.jsxs)("span",{className:"text-sm text-gmail-gray",children:["<",s.from.email,">"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gmail-gray",children:["to ",s.to.map(e=>e.name||e.email).join(", ")]})]}),a.jsx("div",{className:"text-sm text-gmail-gray",children:eK(new Date(s.date),"MMM d, yyyy, h:mm a")})]}),s.labels&&s.labels.length>0&&a.jsx("div",{className:"flex gap-2 mb-6",children:s.labels.map(e=>a.jsx("span",{className:"px-2 py-0.5 text-xs rounded bg-gmail-lightGray dark:bg-gray-800",children:e},e))}),a.jsx("div",{className:"prose dark:prose-invert max-w-none",children:a.jsx("div",{className:"whitespace-pre-wrap",children:s.body})}),(0,a.jsxs)("div",{className:"flex gap-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx(eJ,{className:"w-4 h-4"}),"Reply"]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx(eZ,{className:"w-4 h-4"}),"Reply all"]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx(e0,{className:"w-4 h-4"}),"Forward"]})]})]})})]})}/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let e2=o("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),e4=o("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),e3=o("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),e5=o("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),e8=o("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),e7=o("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function e6({onClose:e,replyTo:t}){let[r,i]=(0,s.useState)(""),[l,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),p=(0,n.NL)(),f=eo({mutationFn:J.sendEmail,onSuccess:()=>{p.invalidateQueries({queryKey:["emails"]}),e()}}),{data:x,refetch:b,isFetching:v}=A({queryKey:["compose-suggestions",l,c],queryFn:()=>J.smartCompose({prompt:l||"general email",context:c}),enabled:!1}),w=e=>{u(e),y(!1)};return h?a.jsx("div",{className:"fixed bottom-0 right-20 w-64 bg-white dark:bg-gray-800 shadow-lg rounded-t-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 dark:bg-gray-900 text-white rounded-t-lg cursor-pointer",onClick:()=>m(!1),children:[a.jsx("span",{className:"text-sm font-medium truncate",children:l||"New Message"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:e=>{e.stopPropagation(),m(!1)},children:a.jsx(e2,{className:"w-4 h-4"})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),e()},children:a.jsx(eU,{className:"w-4 h-4"})})]})]})}):(0,a.jsxs)("div",{className:"fixed bottom-0 right-20 w-[550px] bg-white dark:bg-gray-800 shadow-2xl rounded-t-lg flex flex-col max-h-[70vh]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 dark:bg-gray-900 text-white rounded-t-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"New Message"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>m(!0),className:"p-1 hover:bg-gray-700 rounded",children:a.jsx(e4,{className:"w-4 h-4"})}),a.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-700 rounded",children:a.jsx(eU,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("input",{type:"text",placeholder:"To",value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 bg-transparent focus:outline-none"})}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("input",{type:"text",placeholder:"Subject",value:l,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 bg-transparent focus:outline-none"})}),(0,a.jsxs)("div",{className:"flex-1 min-h-[200px] relative",children:[a.jsx("textarea",{placeholder:"Compose email",value:c,onChange:e=>u(e.target.value),className:"w-full h-full px-4 py-3 bg-transparent focus:outline-none resize-none"}),g&&x&&(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 p-3 max-h-48 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(d,{className:"w-4 h-4 text-gmail-blue"}),a.jsx("span",{className:"text-xs font-medium text-gmail-blue",children:"AI Suggestions"}),a.jsx("button",{onClick:()=>y(!1),className:"ml-auto text-xs text-gmail-gray hover:text-gray-600",children:"Close"})]}),v?a.jsx("div",{className:"text-sm text-gmail-gray",children:"Generating suggestions..."}):a.jsx("div",{className:"space-y-2",children:x.suggestions.map((e,t)=>a.jsx("button",{onClick:()=>w(e),className:"w-full text-left p-2 text-sm rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:e},t))})]})]})]}),a.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{r&&l&&f.mutate({to:r.split(",").map(e=>e.trim()),subject:l,body:c,reply_to:t})},disabled:f.isPending||!r||!l,className:"px-6 py-2 bg-gmail-blue text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:f.isPending?"Sending...":"Send"}),a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:a.jsx(e3,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:a.jsx(e5,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:a.jsx(e8,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:a.jsx(e7,{className:"w-5 h-5 text-gmail-gray"})}),a.jsx("button",{onClick:()=>{y(!0),b()},disabled:v,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",title:"Smart Compose",children:a.jsx(d,{className:`w-5 h-5 text-gmail-blue ${v?"animate-pulse":""}`})})]})})]})}/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let e9=o("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),te=[{key:"c",description:"Compose new email"},{key:"/",description:"Search"},{key:"r",description:"Refresh inbox"},{key:"e",description:"Archive"},{key:"#",description:"Delete"},{key:"s",description:"Star/unstar"},{key:"Shift+i",description:"Mark as read"},{key:"Shift+u",description:"Mark as unread"},{key:"j",description:"Next email"},{key:"k",description:"Previous email"},{key:"o / Enter",description:"Open email"},{key:"Escape",description:"Close"},{key:"d",description:"Toggle dark mode"},{key:"?",description:"Show shortcuts"}];function tt({onClose:e}){return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(e9,{className:"w-5 h-5 text-gmail-blue"}),a.jsx("h2",{className:"text-lg font-medium",children:"Keyboard Shortcuts"})]}),a.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(eU,{className:"w-5 h-5 text-gmail-gray"})})]}),a.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:te.map(({key:e,description:t})=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-1",children:[a.jsx("span",{className:"text-sm text-gmail-gray",children:t}),a.jsx("kbd",{className:"px-2 py-1 text-xs bg-gmail-lightGray dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 font-mono",children:e})]},e))})}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 text-center",children:a.jsx("span",{className:"text-sm text-gmail-gray",children:"Press ? to toggle this menu"})})]})})}let tr=["#ea4335","#fbbc04","#34a853","#4285f4","#9334e6","#f538a0","#ff6d01","#46bdc6","#7baaf7","#185abc"];function ta({onClose:e}){let[t,r]=(0,s.useState)(""),[i,l]=(0,s.useState)(tr[3]),o=(0,n.NL)(),{data:c}=A({queryKey:["labels"],queryFn:J.getLabels}),u=eo({mutationFn:({name:e,color:t})=>J.createLabel(e,t),onSuccess:()=>{o.invalidateQueries({queryKey:["labels"]}),r("")}}),d=eo({mutationFn:J.deleteLabel,onSuccess:()=>{o.invalidateQueries({queryKey:["labels"]})}}),h=["INBOX","SENT","DRAFTS","SPAM","TRASH","STARRED","IMPORTANT"],m=c?.filter(e=>!h.includes(e.name))||[],g=()=>{t.trim()&&u.mutate({name:t.trim(),color:i})};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(U,{className:"w-5 h-5 text-gmail-blue"}),a.jsx("h2",{className:"text-lg font-medium",children:"Manage Labels"})]}),a.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(eU,{className:"w-5 h-5 text-gmail-gray"})})]}),(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"Create new label"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-3",children:[a.jsx("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Label name",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-transparent focus:outline-none focus:ring-2 focus:ring-gmail-blue",onKeyDown:e=>{"Enter"===e.key&&g()}}),a.jsx("button",{onClick:g,disabled:!t.trim()||u.isPending,className:"px-4 py-2 bg-gmail-blue text-white rounded-md hover:bg-blue-600 disabled:opacity-50",children:a.jsx(X,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex gap-2",children:tr.map(e=>a.jsx("button",{onClick:()=>l(e),className:`w-6 h-6 rounded-full ${i===e?"ring-2 ring-offset-2 ring-gray-400":""}`,style:{backgroundColor:e}},e))})]}),(0,a.jsxs)("div",{className:"p-4 max-h-64 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"Your labels"}),0===m.length?a.jsx("p",{className:"text-sm text-gmail-gray",children:"No custom labels yet"}):a.jsx("div",{className:"space-y-2",children:m.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color||"#9e9e9e"}}),a.jsx("span",{className:"text-sm",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-gmail-gray",children:["(",e.email_count,")"]})]}),a.jsx("button",{onClick:()=>d.mutate(e.name),disabled:d.isPending,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:a.jsx(K,{className:"w-4 h-4 text-gmail-gray"})})]},e.name))})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-sm font-medium mb-2 text-gmail-gray",children:"System labels"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(e=>a.jsx("span",{className:"px-2 py-1 text-xs bg-gmail-lightGray dark:bg-gray-700 rounded",children:e},e))})]})]})})}function ts(){var e;let[t,r]=(0,s.useState)(null),[i,l]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),[h,m]=(0,s.useState)("INBOX"),[g,p]=(0,s.useState)(""),[f,x]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!0),[w,k]=(0,s.useState)([]),j=(0,s.useRef)(null),N=(0,n.NL)(),{toggle:M}=function(){let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{a(!0);let e=localStorage.getItem("darkMode");null!==e?t("true"===e):window.matchMedia("(prefers-color-scheme: dark)").matches&&t(!0)},[]),(0,s.useEffect)(()=>{r&&(e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",String(e)))},[e,r]),{isDark:e,toggle:(0,s.useCallback)(()=>{t(e=>!e)},[]),mounted:r}}(),S=(0,s.useCallback)(e=>{let a;if(!w.length)return;let s=t?w.indexOf(t):-1;a="next"===e?s<w.length-1?s+1:0:s>0?s-1:w.length-1,r(w[a])},[w,t]),C=(0,s.useCallback)(async()=>{if(t)try{let e=await J.getEmail(t);await J.updateEmail(t,{is_starred:!e.is_starred}),N.invalidateQueries({queryKey:["emails"]}),N.invalidateQueries({queryKey:["email",t]})}catch(e){console.error("Failed to star email",e)}},[t,N]);return e={onCompose:()=>l(!0),onSearch:()=>j.current?.focus(),onRefresh:()=>N.invalidateQueries({queryKey:["emails"]}),onStar:C,onMarkRead:(0,s.useCallback)(async()=>{if(t)try{await J.updateEmail(t,{is_read:!0}),N.invalidateQueries({queryKey:["emails"]})}catch(e){console.error("Failed to mark as read",e)}},[t,N]),onMarkUnread:(0,s.useCallback)(async()=>{if(t)try{await J.updateEmail(t,{is_read:!1}),N.invalidateQueries({queryKey:["emails"]})}catch(e){console.error("Failed to mark as unread",e)}},[t,N]),onDelete:(0,s.useCallback)(async()=>{if(t)try{await J.deleteEmail(t),r(null),N.invalidateQueries({queryKey:["emails"]})}catch(e){console.error("Failed to delete email",e)}},[t,N]),onNextEmail:()=>S("next"),onPrevEmail:()=>S("prev"),onOpenEmail:()=>{w.length&&!t&&r(w[0])},onClose:()=>{i?l(!1):o?c(!1):u?d(!1):t&&r(null)},onGoInbox:()=>m("INBOX"),onGoSent:()=>m("SENT"),onGoStarred:()=>m("STARRED"),onGoTrash:()=>m("TRASH"),onToggleDarkMode:M,onHelp:()=>c(e=>!e)},(0,s.useEffect)(()=>{let t=t=>{let r=t.target;if("INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable)return;let a=t.ctrlKey||t.metaKey,s=t.shiftKey;switch(t.key.toLowerCase()){case"c":a||(t.preventDefault(),e.onCompose?.());break;case"/":t.preventDefault(),e.onSearch?.();break;case"r":a||(t.preventDefault(),e.onRefresh?.());break;case"e":a||(t.preventDefault(),e.onArchive?.());break;case"#":t.preventDefault(),e.onDelete?.();break;case"s":a||(t.preventDefault(),e.onStar?.());break;case"i":s&&(t.preventDefault(),e.onMarkRead?.());break;case"u":s&&(t.preventDefault(),e.onMarkUnread?.());break;case"j":t.preventDefault(),e.onNextEmail?.();break;case"k":t.preventDefault(),e.onPrevEmail?.();break;case"o":case"enter":t.preventDefault(),e.onOpenEmail?.();break;case"escape":t.preventDefault(),e.onClose?.();break;case"g":break;case"d":a||(t.preventDefault(),e.onToggleDarkMode?.());break;case"?":t.preventDefault(),e.onHelp?.()}"i"!==t.key||a||s||e.onGoInbox?.(),"t"!==t.key||a||s||e.onGoSent?.(),"s"!==t.key||a||s||e.onGoStarred?.()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e]),(0,a.jsxs)("div",{className:"h-screen flex flex-col bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[a.jsx(y,{onMenuClick:()=>v(!b),onSearch:(e,t)=>{p(e),void 0!==t&&x(t)},searchQuery:g}),(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx(et,{isOpen:b,currentLabel:h,onLabelChange:m,onCompose:()=>l(!0),onManageLabels:()=>d(!0)}),(0,a.jsxs)("main",{className:"flex-1 flex overflow-hidden",children:[a.jsx(e$,{label:h,searchQuery:g,useAISearch:f,selectedId:t,onSelect:r,onEmailIdsChange:k}),t&&a.jsx(e1,{emailId:t,onClose:()=>r(null)})]})]}),i&&a.jsx(e6,{onClose:()=>l(!1)}),o&&a.jsx(tt,{onClose:()=>c(!1)}),u&&a.jsx(ta,{onClose:()=>d(!1)})]})}},1858:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>l});var a=r(5344),s=r(8503),n=r(6274),i=r(3729);function l({children:e}){let[t]=(0,i.useState)(()=>new s.S({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}}));return a.jsx(n.aH,{client:t,children:e})}},3625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var a=r(5036),s=r(6843);let n=(0,s.createProxy)(String.raw`/root/Projects/gmail-clone/frontend/src/app/providers.tsx`),{__esModule:i,$$typeof:l}=n;n.default;let o=(0,s.createProxy)(String.raw`/root/Projects/gmail-clone/frontend/src/app/providers.tsx#Providers`);r(4315);let c={title:"Gmail Clone",description:"AI-powered email client"};function u({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:a.jsx(o,{children:e})})})}},1136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let a=(0,r(6843).createProxy)(String.raw`/root/Projects/gmail-clone/frontend/src/app/page.tsx`),{__esModule:s,$$typeof:n}=a,i=a.default},4315:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[703],()=>r(611));module.exports=a})();